<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrar</title>
    <link rel="icon" type="image/x-icon" href="../images/logo.png">
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="script.js"></script>
<script>
    function RecuperarSenha() {
        email = prompt("Insira seu email de cadastro para recuperar a conta.");
        if (email != null && email != "")
            alert(`Seu email foi encaminhado para a equipe responsável, em breve retornaremos o contatando no email ${email}.`)
    }

    function login() {
        console.log('asd1');
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        // Configurar o corpo da requisição
        const requestData = {
            email: email,
            password: password
        };

        axios.post('http://localhost/login', requestData)
            .then(response => {
                console.log('asd1');
                document.getElementById('message').textContent = 'Login bem-sucedido!';
                document.getElementById('message').style.color = 'green';
            })
            .catch(error => {
                console.log('asd1');
                document.getElementById('message').textContent = 'Erro ao fazer login. Verifique as credenciais.';
                document.getElementById('message').style.color = 'red';
                console.error(error);
            });
    }
</script>

<body>
    <nav>
        <div class="navbar_left">
            <a href="../index.html">Página Inicial</a>
            <a href="./list.html">Lista</a>
        </div>
        <div class="navbar_right">
            <a href="./auth.html">Entrar</a>
        </div>
    </nav>

    <section>
        <img src="../images/img_login.jpg" id="background">
        <div class="div_auth">
            <img src="../images/logo.svg" id="logo">
            <form method="POST">
                <h2>Organize sua lista de presente em um toque de mágica!</h2>
                <div class="input-group">
                    <label for="email">E-mail:</label>
                    <input type="email" id="email" placeholder="Digite aqui seu email!" required>
                </div>
                <div class="input-group">
                    <label for="password">Senha:</label>
                    <input type="password" id="password" placeholder="Digite aqui sua senha!" required>
                </div>
                <button type="button" class="btn btn-primary" onclick="login()">Entrar</button>
                <br>
                <p>Não tem conta? <a href="./register.html">Cadastre-se</a></p>
                <p>Esqueceu a senha?<button type="button" onclick="RecuperarSenha()"
                        class="btn btn-link">Recuperar</button></p>
            </form>
            <div id="message"></div>
        </div>
    </section>
</body>

</html>